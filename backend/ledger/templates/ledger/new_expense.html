{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block main %}

<h1>Add New Expense</h1>
{% crispy form %}

{% endblock %}

{% block sidebar %}
<p><button id="set-settled-eq-expected" class="btn btn-sm btn-info btn-block">Set Settled=Expected</button></p>
<hr>
<p><a class="btn btn-sm btn-primary btn-block" href="{% url 'ledger:NewExpense' %}">Show Expenses</a></p>
<p><a class="btn btn-sm btn-secondary btn-block" href="{% url 'inventory:VendorList' %}">Show Vendors</a></p>
<p><a class="btn btn-sm btn-light btn-block" href="{% url 'ledger:ExpenseCategoryList' %}">Show Categories</a></p>
{% endblock %}

{% block extrascripts %}
{{ form.media }}

<script type="text/javascript">
    // function showAddPopup(triggeringLink) {
    //     var name = triggeringLink.id.replace(/^add_/, '');
    //     print(name);
    //     href = triggeringLink.href;
    //     print(href);
    //     var win = window.open(href, name, 'height=500,width=800,resizable=yes,scrollbars=yes');
    //     win.focus();
    //     return false;
    // }
    // function closePopup(win, newID, newRepr, id) {
    //     $(id).append('<option value=' + newID + ' selected >' + newRepr + '</option>')
    //     win.close();
    // }
    $(document).ready(function () {
        $("#add_vendor_button").modalForm({
            formURL: "{% url 'inventory:NewVendorPopup' %}"
        });
        $("#set-settled-eq-expected").click(function() {
            console.log($("#id_settled_date").val($('#id_expected_date').val()));
        });
    })
</script>
{% endblock %}